(function($){var gamipress_widget_select2_post_defaults={ajax:{url:ajaxurl,dataType:'json',delay:250,type:'POST',data:function(params){return{q:params.term,action:'gamipress_get_achievements_options'}},processResults:function(results,page){if(results===null){return{results:[]}}
var formatted_results=[];results.data.forEach(function(item){formatted_results.push({id:item.ID,text:item.post_title,})});return{results:formatted_results}}},theme:'default gamipress-select2',placeholder:gamipress_admin_widgets.id_placeholder,allowClear:!0,multiple:!1};var gamipress_widget_select2_post_multiples=$.extend(!0,{},gamipress_widget_select2_post_defaults,{multiple:!0});var gamipress_widget_select2_achievement_types={theme:'default gamipress-select2',placeholder:gamipress_admin_widgets.post_type_placeholder,allowClear:!0,multiple:!0};var gamipress_widget_select2_users={ajax:{url:ajaxurl,dataType:'json',delay:250,type:'POST',data:function(params){return{q:params.term,action:'gamipress_get_users'}},processResults:function(results,page){if(results===null){return{results:[]}}
var formatted_results=[];results.data.forEach(function(item){formatted_results.push({id:item.ID,text:item.user_login,})});return{results:formatted_results}}},theme:'default gamipress-select2',placeholder:gamipress_admin_widgets.user_placeholder,allowClear:!0,multiple:!1};$('select[id^="widget-gamipress"][id$="[id]"]:not(.select2-hidden-accessible)').select2(gamipress_widget_select2_post_defaults);$('select[id^="widget-gamipress"][id$="[include]"]:not(.select2-hidden-accessible), select[id^="widget-gamipress"][id$="[exclude]"]:not(.select2-hidden-accessible)').select2(gamipress_widget_select2_post_multiples);$('select[id^="widget-gamipress_achievements"][id$="[type]"]:not(.select2-hidden-accessible), select[id^="widget-gamipress_points_types"][id$="[type]"]:not(.select2-hidden-accessible), select[id^="widget-gamipress_points"][id$="[type]"]:not(.select2-hidden-accessible)').select2(gamipress_widget_select2_achievement_types);$('select[id^="widget-gamipress"][id$="[user_id]"]:not(.select2-hidden-accessible)').select2(gamipress_widget_select2_users);$('input[id^="widget-gamipress"][id$="[current_user]"]').change(function(){var target=$(this).closest('.cmb-row').next();if($(this).prop('checked')){target.slideUp().addClass('cmb2-tab-ignore')}else{target.slideDown().removeClass('cmb2-tab-ignore')}});$(document).on('widget-updated widget-added',function(e,widget){widget.find('select[id^="widget-gamipress"][id$="[id]"]:not(.select2-hidden-accessible)').select2(gamipress_widget_select2_post_defaults);widget.find('select[id^="widget-gamipress"][id$="[include]"]:not(.select2-hidden-accessible), select[id^="widget-gamipress"][id$="[exclude]"]:not(.select2-hidden-accessible)').select2(gamipress_widget_select2_post_multiples);widget.find('select[id^="widget-gamipress_achievements"][id$="[type]"]:not(.select2-hidden-accessible), select[id^="widget-gamipress_points_types"][id$="[type]"]:not(.select2-hidden-accessible), select[id^="widget-gamipress_points"][id$="[type]"]:not(.select2-hidden-accessible)').select2(gamipress_widget_select2_achievement_types);widget.find('select[id^="widget-gamipress"][id$="[user_id]"]:not(.select2-hidden-accessible)').select2(gamipress_widget_select2_users);var current_user=widget.find('input[id^="widget-gamipress"][id$="[current_user]"]');var target=current_user.closest('.cmb-row').next();if(current_user.prop('checked')){target.hide().addClass('cmb2-tab-ignore')}else{target.show().removeClass('cmb2-tab-ignore')}})})(jQuery)